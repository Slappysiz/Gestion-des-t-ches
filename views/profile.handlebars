{{!-- success banner (déjà géré par le layout) --}}

<div class="bg-white p-6 rounded-lg shadow-lg">
  <h1 class="text-2xl font-bold mb-6">Mon Profil</h1>
  <dl class="space-y-4">
    <div><dt class="font-medium text-gray-500">Nom d’utilisateur</dt><dd>{{user.username}}</dd></div>
    <div><dt class="font-medium text-gray-500">Nom</dt><dd>{{user.nom}}</dd></div>
    <div><dt class="font-medium text-gray-500">Prénom</dt><dd>{{user.prenom}}</dd></div>
    <div><dt class="font-medium text-gray-500">Email</dt><dd>{{user.email}}</dd></div>
  </dl>
  <div class="mt-6 flex space-x-4">
    <a href="/profile/edit"
       class="bg-indigo-600 text-white px-5 py-2 rounded hover:bg-indigo-700 transition">
      Modifier mon profil
    </a>
    <!-- Bouton pour demander la suppression -->
    <button id="delete-account-btn"
            class="bg-red-600 text-white px-5 py-2 rounded hover:bg-red-700 transition">
      Supprimer mon compte
    </button>
  </div>
</div>

<!-- Confirmation modal (hidden par défaut) -->
<div id="confirm-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden">
  <div class="bg-white p-6 rounded shadow-md max-w-sm w-full">
    <h2 class="text-xl font-bold mb-4">Confirmer la suppression</h2>
    <p class="mb-6">Êtes-vous sûr de vouloir supprimer définitivement votre compte ? Cette action est irréversible.</p>
    <div class="flex justify-end space-x-4">
      <button id="cancel-delete" class="px-4 py-2 rounded border">Annuler</button>
      <form action="/profile/delete" method="POST">
        <button type="submit" class="bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700">
          Oui, supprimer
        </button>
      </form>
    </div>
  </div>
</div>

<script>
  document.getElementById('delete-account-btn').addEventListener('click', () => {
    document.getElementById('confirm-modal').classList.remove('hidden');
  });
  document.getElementById('cancel-delete').addEventListener('click', () => {
    document.getElementById('confirm-modal').classList.add('hidden');
  });
</script>
